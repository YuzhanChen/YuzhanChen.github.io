(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00e1a998"],{"0009":function(t,e,s){"use strict";var i=s("c6ba"),n=s.n(i);n.a},"023a":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"happysynth-draw"},[s("div",{staticClass:"happysynth-draw-btns-container"},[s("a-button",{attrs:{"btn-type":"primary"},on:{click:function(e){return t.$refs.postConfirm.show()}}},[s("icon",{attrs:{"icon-type":"check"}})],1),s("a-button",{attrs:{"btn-type":"danger"},on:{click:function(e){return t.$refs.redoConfirm.show()}}},[s("icon",{attrs:{"icon-type":"redo"}})],1)],1),s("div",[s("sketchpad",{ref:"sketchpad"})],1),s("modal",{ref:"redoConfirm",attrs:{title:"是否重画？","modal-type":"slim"},on:{clickOK:function(e){return t.redo()}}},[s("p",[t._v("点击确认将擦除所有笔迹")])]),s("modal",{ref:"postConfirm",attrs:{title:"是否提交波形？"},on:{clickOK:function(e){return t.postWaveform()}}},[s("p",[t._v("点击确认向服务器提交您绘制的波形")])]),s("message-container",[s("message",{attrs:{"is-shown":t.postMsg}},[s("icon",{staticStyle:{color:"blue"},attrs:{"icon-type":"loading"}}),t._v(" 提交并制作音色中")],1),s("message",{attrs:{"is-shown":t.postFailMsg}},[s("icon",{staticStyle:{color:"red"},attrs:{"icon-type":"warning"}}),t._v(" 提交失败")],1),s("message",{attrs:{"is-shown":t.postSuccessMsg}},[s("icon",{staticStyle:{color:"green"},attrs:{"icon-type":"check"}}),t._v(" 完成")],1)],1)],1)},n=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"sketchpad"}},[s("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 500 400"}},[s("polyline",{staticStyle:{stroke:"var(--stroke-color)","stroke-width":"2","fill-opacity":"0"},attrs:{id:"line1",points:""}}),s("polyline",{staticStyle:{stroke:"var(--stroke-color)","stroke-width":"2","fill-opacity":"0"},attrs:{id:"line2",points:""}}),s("polyline",{staticStyle:{stroke:"var(--stroke-color)","stroke-width":"2","fill-opacity":"0"},attrs:{id:"line3",points:""}}),s("polyline",{staticStyle:{stroke:"var(--stroke-color)","stroke-width":"2","fill-opacity":"0"},attrs:{id:"line4",points:""}}),s("polyline",{staticStyle:{stroke:"var(--stroke-color)","stroke-width":"2","fill-opacity":"0"},attrs:{id:"line5",points:""}}),s("polyline",{staticStyle:{stroke:"var(--stroke-color)","stroke-width":"2","fill-opacity":"0"},attrs:{id:"line6",points:""}}),s("polyline",{staticStyle:{stroke:"var(--stroke-color)","stroke-width":"2","fill-opacity":"0"},attrs:{id:"line7",points:""}}),s("polyline",{staticStyle:{stroke:"var(--stroke-color)","stroke-width":"2","fill-opacity":"0"},attrs:{id:"line8",points:""}}),s("polyline",{staticStyle:{stroke:"var(--stroke-color)","stroke-width":"2","fill-opacity":"0"},attrs:{id:"line9",points:""}}),s("polyline",{staticStyle:{stroke:"var(--stroke-color)","stroke-width":"2","fill-opacity":"0"},attrs:{id:"line10",points:""}}),s("line",{staticStyle:{stroke:"var(--mark-color)","stroke-width":"2"},attrs:{x1:"20",y1:"200",x2:"490",y2:"200"}}),s("circle",{attrs:{cx:"20",cy:"200",r:"10",fill:"var(--mark-color)"}})])])},r=[],a=(s("159b"),{name:"Sketchpad",data:function(){return{isDrawing:!1,baseSet:!1,baseX:0,baseY:0,i:1,polyline:void 0,waveform:{x:[],y:[]}}},methods:{redoDraw:function(){document.getElementsByTagName("polyline").forEach((function(t){t.setAttribute("points","")})),this.waveform.x=[],this.waveform.y=[],this.i=1}},mounted:function(){var t=this;document.getElementById("sketchpad").addEventListener("mousedown",(function(e){t.baseSet||(t.baseX=e.clientX-10,t.baseY=e.clientY-200,t.baseSet=!0),t.polyline=document.getElementById("line"+t.i),t.polyline.setAttribute("points",t.polyline.getAttribute("points")+" "+(e.clientX-t.baseX)+","+(e.clientY-t.baseY)),t.i++,t.isDrawing=!0,t.waveform.x.push(e.clientX),t.waveform.y.push(e.clientY)})),document.getElementById("sketchpad").addEventListener("mousemove",(function(e){t.isDrawing&&(t.polyline.setAttribute("points",t.polyline.getAttribute("points")+" "+(e.clientX-t.baseX)+","+(e.clientY-t.baseY)),t.waveform.x.push(e.clientX),t.waveform.y.push(e.clientY))})),document.addEventListener("mouseup",(function(e){t.isDrawing=!1}))}}),c=a,l=(s("b3e6"),s("2877")),u=Object(l["a"])(c,o,r,!1,null,"2f9db410",null),p=u.exports,f=s("89e0"),d=s("c4fe"),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isShown?s("div",{staticClass:"modal-wrapper"},[s("div",{staticClass:"modal",class:{"modal-slim":"slim"===t.modalType}},[s("div",{staticClass:"modal-content"},[s("button",{staticClass:"modal-close-button",attrs:{type:"button"},on:{click:t.close}},[s("span",{staticClass:"modal-close-x"},[s("icon",{attrs:{"icon-type":"close"}})],1)]),s("div",{staticClass:"modal-header"},[t._v(t._s(t.title))]),s("div",{staticClass:"modal-body"},[t._t("default")],2),s("div",{staticClass:"modal-footer"},[s("a-button",{on:{click:t.close}},[t._v("Cancel")]),s("a-button",{attrs:{"btn-type":"primary"},on:{click:function(e){return t.$emit("clickOK")}}},[t._v("OK")])],1)])])]):t._e()},m=[],v={name:"Modal",props:{title:{type:String,default:""},modalType:{type:String,default:"default"}},data:function(){return{isShown:!1}},components:{AButton:d["a"],Icon:f["a"]},methods:{show:function(){this.isShown=!0},close:function(){this.isShown=!1}}},y=v,b=(s("b134"),Object(l["a"])(y,h,m,!1,null,null,null)),w=b.exports,g=s("8b27"),k=s("d3a7"),C=s("6d7b"),S={name:"HappySynthDraw",components:{Sketchpad:p,Icon:f["a"],AButton:d["a"],Modal:w,MessageContainer:k["a"],Message:g["a"]},data:function(){return{postMsg:!1,postSuccessMsg:!1,postFailMsg:!1}},methods:{redo:function(){this.$refs.sketchpad.redoDraw(),this.$refs.redoConfirm.close()},postWaveform:function(){var t=this;this.$refs.postConfirm.close(),this.postMsg=!0,C["a"].post("",this.$refs.sketchpad.waveform).then((function(e){t.postMsg=!1,t.postSuccessMsg=!0,setTimeout((function(){t.postSuccessMsg=!1}),500)})).catch((function(e){console.log(e),t.postMsg=!1,t.postFailMsg=!0,setTimeout((function(){t.postFailMsg=!1}),500)}))}}},M=S,x=(s("f195"),Object(l["a"])(M,i,n,!1,null,null,null));e["default"]=x.exports},"109c":function(t,e,s){},"159b":function(t,e,s){var i=s("da84"),n=s("fdbc"),o=s("17c2"),r=s("9112");for(var a in n){var c=i[a],l=c&&c.prototype;if(l&&l.forEach!==o)try{r(l,"forEach",o)}catch(u){l.forEach=o}}},"17c2":function(t,e,s){"use strict";var i=s("b727").forEach,n=s("b301");t.exports=n("forEach")?function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},"3c2a":function(t,e,s){},"63fb":function(t,e,s){"use strict";var i=s("3c2a"),n=s.n(i);n.a},"65f0":function(t,e,s){var i=s("861d"),n=s("e8b5"),o=s("b622"),r=o("species");t.exports=function(t,e){var s;return n(t)&&(s=t.constructor,"function"!=typeof s||s!==Array&&!n(s.prototype)?i(s)&&(s=s[r],null===s&&(s=void 0)):s=void 0),new(void 0===s?Array:s)(0===e?0:e)}},"6d7b":function(t,e,s){"use strict";s.d(e,"a",(function(){return r}));var i=s("bc3a"),n=s.n(i),o=s("83d6"),r=n.a.create({baseURL:o["a"].waveformUrl,withCredentials:!0})},8532:function(t,e,s){},"89e0":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon"},["play-circle"===t.iconType?s("svg",{attrs:{viewBox:"64 64 896 896",width:"1em",height:"1em",fill:"currentColor"}},[s("path",{attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}),s("path",{attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 0 0 398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 0 0 0-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}})]):"question-circle"===t.iconType?s("svg",{attrs:{viewBox:"64 64 896 896",width:"1em",height:"1em",fill:"currentColor"}},[s("path",{attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}),s("path",{attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0 1 30.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1 0 80 0 40 40 0 1 0-80 0z"}})]):t._e(),"check"===t.iconType?s("svg",{attrs:{viewBox:"64 64 896 896",width:"1em",height:"1em",fill:"currentColor"}},[s("path",{attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 0 0-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}})]):t._e(),"close"===t.iconType?s("svg",{attrs:{viewBox:"64 64 896 896",width:"1em",height:"1em",fill:"currentColor"}},[s("path",{attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}})]):t._e(),"info-circle"===t.iconType?s("svg",{attrs:{viewBox:"64 64 896 896",width:"1em",height:"1em",fill:"currentColor"}},[s("path",{attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}),s("path",{attrs:{d:"M464 336a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}})]):t._e(),"redo"===t.iconType?s("svg",{attrs:{viewBox:"64 64 896 896",width:"1em",height:"1em",fill:"currentColor"}},[s("path",{attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 0 1-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 0 1-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 0 0-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}})]):t._e(),"bars"===t.iconType?s("svg",{attrs:{viewBox:"64 64 896 896",width:"1em",height:"1em",fill:"currentColor"}},[s("path",{attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"}})]):t._e(),"smile"===t.iconType?s("svg",{attrs:{viewBox:"64 64 896 896",width:"1em",height:"1em",fill:"currentColor"}},[s("path",{attrs:{d:"M288 421a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm352 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 0 1 248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 0 1 249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 0 1 775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 0 1 775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 0 0-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 0 0-8-8.4z"}})]):t._e(),"loading"===t.iconType?s("svg",{staticClass:"loading-circle",attrs:{viewBox:"0 0 1024 1024",width:"1em",height:"1em",fill:"currentColor"}},[s("path",{attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}})]):t._e(),"warning"===t.iconType?s("svg",{attrs:{viewBox:"64 64 896 896",width:"1em",height:"1em",fill:"currentColor"}},[s("path",{attrs:{d:"M464 720a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}})]):t._e()])},n=[],o={name:"Icon",props:{iconType:{type:String,required:!0}}},r=o,a=(s("0009"),s("2877")),c=Object(a["a"])(r,i,n,!1,null,null,null);e["a"]=c.exports},"8b27":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"message",class:{"is-shown":t.isShown}},[t._t("default")],2)},n=[],o={name:"Message",props:{isShown:{type:Boolean,default:!1}},methods:{push:function(t){this.msgList.push(t);document.querySelector(".message")}}},r=o,a=(s("fb3b"),s("2877")),c=Object(a["a"])(r,i,n,!1,null,null,null);e["a"]=c.exports},ae3c:function(t,e,s){},b134:function(t,e,s){"use strict";var i=s("b7af"),n=s.n(i);n.a},b301:function(t,e,s){"use strict";var i=s("d039");t.exports=function(t,e){var s=[][t];return!s||!i((function(){s.call(null,e||function(){throw 1},1)}))}},b3e6:function(t,e,s){"use strict";var i=s("ae3c"),n=s.n(i);n.a},b727:function(t,e,s){var i=s("f8c2"),n=s("44ad"),o=s("7b0b"),r=s("50c4"),a=s("65f0"),c=[].push,l=function(t){var e=1==t,s=2==t,l=3==t,u=4==t,p=6==t,f=5==t||p;return function(d,h,m,v){for(var y,b,w=o(d),g=n(w),k=i(h,m,3),C=r(g.length),S=0,M=v||a,x=e?M(d,C):s?M(d,0):void 0;C>S;S++)if((f||S in g)&&(y=g[S],b=k(y,S,w),t))if(e)x[S]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return S;case 2:c.call(x,y)}else if(u)return!1;return p?-1:l||u?u:x}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},b7af:function(t,e,s){},c4fe:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"a-btn",class:{"a-btn-primary":t.isPrimary,"a-btn-danger":t.isDanger},attrs:{type:"button"},on:{click:t.click}},[t._t("default")],2)},n=[],o={name:"AButton",props:{btnType:{type:String,default:"default"}},computed:{isPrimary:function(){return"primary"===this.btnType},isDanger:function(){return"danger"===this.btnType}},methods:{click:function(t){this.$emit("click",t)}}},r=o,a=(s("db33"),s("2877")),c=Object(a["a"])(r,i,n,!1,null,null,null);e["a"]=c.exports},c6ba:function(t,e,s){},d3a7:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"message-container"},[t._t("default")],2)},n=[],o={name:"MessageContainer"},r=o,a=(s("63fb"),s("2877")),c=Object(a["a"])(r,i,n,!1,null,null,null);e["a"]=c.exports},db33:function(t,e,s){"use strict";var i=s("8532"),n=s.n(i);n.a},e8b5:function(t,e,s){var i=s("c6b6");t.exports=Array.isArray||function(t){return"Array"==i(t)}},f195:function(t,e,s){"use strict";var i=s("f3fc"),n=s.n(i);n.a},f3fc:function(t,e,s){},fb3b:function(t,e,s){"use strict";var i=s("109c"),n=s.n(i);n.a},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-00e1a998.588d3e3c.js.map